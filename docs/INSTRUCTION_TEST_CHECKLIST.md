# CPU 6502 æŒ‡ä»¤æµ‹è¯•æ‰§è¡Œæ¸…å•

**ç‰ˆæœ¬**: v1.0  
**æ—¥æœŸ**: 2025-11-29  
**ç›®æ ‡**: å®Œæˆ 157 ä¸ªæ“ä½œç çš„å®Œæ•´æµ‹è¯•

---

## ğŸ“Š å½“å‰çŠ¶æ€

| ç±»åˆ« | æ“ä½œç  | å·²æµ‹è¯• | å¾…æµ‹è¯• | è¿›åº¦ |
|------|--------|--------|--------|------|
| æ ‡å¿—ä½æ“ä½œ | 8 | 6 | 2 | 75% |
| ç®—æœ¯è¿ç®— | 30 | 8 | 22 | 27% |
| ä¼ é€æŒ‡ä»¤ | 6 | 6 | 0 | 100% âœ… |
| é€»è¾‘è¿ç®— | 26 | 4 | 22 | 15% |
| ç§»ä½æŒ‡ä»¤ | 20 | 4 | 16 | 20% |
| æ¯”è¾ƒæŒ‡ä»¤ | 15 | 3 | 12 | 20% |
| åˆ†æ”¯æŒ‡ä»¤ | 8 | 8 | 0 | 100% âœ… |
| åŠ è½½/å­˜å‚¨ | 31 | 12 | 19 | 39% |
| æ ˆæ“ä½œ | 5 | 3 | 2 | 60% |
| è·³è½¬æŒ‡ä»¤ | 8 | 2 | 6 | 25% |
| **æ€»è®¡** | **157** | **56** | **101** | **36%** |

---

## ğŸ¯ æµ‹è¯•ä¼˜å…ˆçº§

### ğŸ”´ P0 - ç«‹å³æ•°å¯»å€ï¼ˆå·²å®Œæˆ âœ…ï¼‰
- [x] LDA/LDX/LDY #imm
- [x] ADC/SBC #imm
- [x] AND/ORA/EOR #imm
- [x] CMP/CPX/CPY #imm
- [x] æ‰€æœ‰åˆ†æ”¯æŒ‡ä»¤
- [x] æ‰€æœ‰ä¼ é€æŒ‡ä»¤

### ğŸŸ¡ P1 - é›¶é¡µå¯»å€ï¼ˆä¼˜å…ˆï¼‰
- [ ] LDA/LDX/LDY zp
- [ ] STA/STX/STY zp
- [ ] ADC/SBC zp
- [ ] AND/ORA/EOR zp
- [ ] CMP/CPX/CPY zp
- [ ] ASL/LSR/ROL/ROR zp
- [ ] INC/DEC zp
- [ ] BIT zp

### ğŸŸ¡ P2 - ç»å¯¹å¯»å€ï¼ˆä¼˜å…ˆï¼‰
- [ ] LDA/LDX/LDY abs
- [ ] STA/STX/STY abs
- [ ] ADC/SBC abs
- [ ] AND/ORA/EOR abs
- [ ] CMP/CPX/CPY abs
- [ ] ASL/LSR/ROL/ROR abs
- [ ] INC/DEC abs
- [ ] BIT abs
- [ ] JMP abs
- [ ] JSR abs

### ğŸŸ¢ P3 - ç´¢å¼•å¯»å€ï¼ˆæ¬¡è¦ï¼‰
- [ ] é›¶é¡µ,X å¯»å€ (15 ä¸ª)
- [ ] é›¶é¡µ,Y å¯»å€ (5 ä¸ª)
- [ ] ç»å¯¹,X å¯»å€ (15 ä¸ª)
- [ ] ç»å¯¹,Y å¯»å€ (10 ä¸ª)

### ğŸŸ¢ P4 - é—´æ¥å¯»å€ï¼ˆæ¬¡è¦ï¼‰
- [ ] é—´æ¥,X å¯»å€ (6 ä¸ª)
- [ ] é—´æ¥,Y å¯»å€ (6 ä¸ª)
- [ ] JMP é—´æ¥ (1 ä¸ª)

---

## ğŸ“ æµ‹è¯•ä»»åŠ¡æ¸…å•

### ç¬¬ 1 é˜¶æ®µï¼šè¡¥å……é›¶é¡µå¯»å€æµ‹è¯•ï¼ˆ22 ä¸ªæ“ä½œç ï¼‰

#### Task 1.1: LoadStore é›¶é¡µå¯»å€ âœ… å®Œæˆ
**æ–‡ä»¶**: `src/test/scala/cpu/instructions/LoadStoreInstructionsSpec.scala`

- [x] LDA zp (0xA5) - è¯»å–é›¶é¡µåœ°å€ âœ…
- [x] LDX zp (0xA6) - è¯»å–é›¶é¡µåœ°å€ âœ…
- [x] LDY zp (0xA4) - è¯»å–é›¶é¡µåœ°å€ âœ…
- [x] STA zp (0x85) - å†™å…¥é›¶é¡µåœ°å€ âœ…
- [x] STX zp (0x86) - å†™å…¥é›¶é¡µåœ°å€ âœ…
- [x] STY zp (0x84) - å†™å…¥é›¶é¡µåœ°å€ âœ…

**æµ‹è¯•æ¨¡æ¿**:
```scala
it should "LDA zero page" in {
  test(new LoadStoreTestModule) { dut =>
    // Cycle 1: è¯»å–é›¶é¡µåœ°å€
    dut.io.opcode.poke(0xA5.U)
    dut.io.memDataIn.poke(0x42.U)
    dut.clock.step()
    dut.io.memAddr.expect(0x0042.U)
    
    // Cycle 2: è¯»å–æ•°æ®
    dut.io.memDataIn.poke(0x99.U)
    dut.clock.step()
    dut.io.regA.expect(0x99.U)
    dut.io.flagZ.expect(false.B)
    dut.io.flagN.expect(true.B)
  }
}
```

#### Task 1.2: Arithmetic é›¶é¡µå¯»å€
**æ–‡ä»¶**: `src/test/scala/cpu/instructions/ArithmeticInstructionsSpec.scala`

- [ ] ADC zp (0x65)
- [ ] SBC zp (0xE5)
- [ ] INC zp (0xE6) - å·²æœ‰åŸºç¡€æµ‹è¯•
- [ ] DEC zp (0xC6) - å·²æœ‰åŸºç¡€æµ‹è¯•

#### Task 1.3: Logic é›¶é¡µå¯»å€
**æ–‡ä»¶**: `src/test/scala/cpu/instructions/LogicInstructionsSpec.scala`

- [ ] AND zp (0x25)
- [ ] ORA zp (0x05)
- [ ] EOR zp (0x45)
- [ ] BIT zp (0x24) - å·²æœ‰åŸºç¡€æµ‹è¯•

#### Task 1.4: Shift é›¶é¡µå¯»å€
**æ–‡ä»¶**: `src/test/scala/cpu/instructions/ShiftInstructionsSpec.scala`

- [ ] ASL zp (0x06)
- [ ] LSR zp (0x46)
- [ ] ROL zp (0x26)
- [ ] ROR zp (0x66)

#### Task 1.5: Compare é›¶é¡µå¯»å€
**æ–‡ä»¶**: `src/test/scala/cpu/instructions/CompareInstructionsSpec.scala`

- [ ] CMP zp (0xC5)
- [ ] CPX zp (0xE4)
- [ ] CPY zp (0xC4)

---

### ç¬¬ 2 é˜¶æ®µï¼šè¡¥å……ç»å¯¹å¯»å€æµ‹è¯•ï¼ˆ25 ä¸ªæ“ä½œç ï¼‰

#### Task 2.1: LoadStore ç»å¯¹å¯»å€
- [ ] LDA abs (0xAD)
- [ ] LDX abs (0xAE)
- [ ] LDY abs (0xAC)
- [ ] STA abs (0x8D)
- [ ] STX abs (0x8E)
- [ ] STY abs (0x8C)

#### Task 2.2: Arithmetic ç»å¯¹å¯»å€
- [ ] ADC abs (0x6D)
- [ ] SBC abs (0xED)
- [ ] INC abs (0xEE)
- [ ] DEC abs (0xCE)

#### Task 2.3: Logic ç»å¯¹å¯»å€
- [ ] AND abs (0x2D)
- [ ] ORA abs (0x0D)
- [ ] EOR abs (0x4D)
- [ ] BIT abs (0x2C)

#### Task 2.4: Shift ç»å¯¹å¯»å€
- [ ] ASL abs (0x0E)
- [ ] LSR abs (0x4E)
- [ ] ROL abs (0x2E)
- [ ] ROR abs (0x6E)

#### Task 2.5: Compare ç»å¯¹å¯»å€
- [ ] CMP abs (0xCD)
- [ ] CPX abs (0xEC)
- [ ] CPY abs (0xCC)

#### Task 2.6: Jump ç»å¯¹å¯»å€
- [ ] JMP abs (0x4C) - å·²æœ‰åŸºç¡€æµ‹è¯•
- [ ] JSR abs (0x20) - å·²æœ‰åŸºç¡€æµ‹è¯•

---

### ç¬¬ 3 é˜¶æ®µï¼šè¡¥å……ç´¢å¼•å¯»å€æµ‹è¯•ï¼ˆ45 ä¸ªæ“ä½œç ï¼‰

#### Task 3.1: é›¶é¡µ,X å¯»å€ (15 ä¸ª)
- [ ] LDA zp,X (0xB5)
- [ ] LDY zp,X (0xB4)
- [ ] STA zp,X (0x95)
- [ ] STY zp,X (0x94)
- [ ] ADC zp,X (0x75)
- [ ] SBC zp,X (0xF5)
- [ ] AND zp,X (0x35)
- [ ] ORA zp,X (0x15)
- [ ] EOR zp,X (0x55)
- [ ] CMP zp,X (0xD5)
- [ ] ASL zp,X (0x16)
- [ ] LSR zp,X (0x56)
- [ ] ROL zp,X (0x36)
- [ ] ROR zp,X (0x76)
- [ ] INC zp,X (0xF6)
- [ ] DEC zp,X (0xD6)

#### Task 3.2: é›¶é¡µ,Y å¯»å€ (5 ä¸ª)
- [ ] LDX zp,Y (0xB6)
- [ ] STX zp,Y (0x96)

#### Task 3.3: ç»å¯¹,X å¯»å€ (15 ä¸ª)
- [ ] LDA abs,X (0xBD)
- [ ] LDY abs,X (0xBC)
- [ ] STA abs,X (0x9D)
- [ ] ADC abs,X (0x7D)
- [ ] SBC abs,X (0xFD)
- [ ] AND abs,X (0x3D)
- [ ] ORA abs,X (0x1D)
- [ ] EOR abs,X (0x5D)
- [ ] CMP abs,X (0xDD)
- [ ] ASL abs,X (0x1E)
- [ ] LSR abs,X (0x5E)
- [ ] ROL abs,X (0x3E)
- [ ] ROR abs,X (0x7E)
- [ ] INC abs,X (0xFE)
- [ ] DEC abs,X (0xDE)

#### Task 3.4: ç»å¯¹,Y å¯»å€ (10 ä¸ª)
- [ ] LDA abs,Y (0xB9)
- [ ] LDX abs,Y (0xBE)
- [ ] STA abs,Y (0x99)
- [ ] ADC abs,Y (0x79)
- [ ] SBC abs,Y (0xF9)
- [ ] AND abs,Y (0x39)
- [ ] ORA abs,Y (0x19)
- [ ] EOR abs,Y (0x59)
- [ ] CMP abs,Y (0xD9)

---

### ç¬¬ 4 é˜¶æ®µï¼šè¡¥å……é—´æ¥å¯»å€æµ‹è¯•ï¼ˆ13 ä¸ªæ“ä½œç ï¼‰

#### Task 4.1: é—´æ¥,X å¯»å€ (6 ä¸ª)
- [ ] LDA (ind,X) (0xA1)
- [ ] STA (ind,X) (0x81)
- [ ] ADC (ind,X) (0x61)
- [ ] SBC (ind,X) (0xE1)
- [ ] AND (ind,X) (0x21)
- [ ] ORA (ind,X) (0x01)
- [ ] EOR (ind,X) (0x41)
- [ ] CMP (ind,X) (0xC1)

#### Task 4.2: é—´æ¥,Y å¯»å€ (6 ä¸ª)
- [ ] LDA (ind),Y (0xB1)
- [ ] STA (ind),Y (0x91)
- [ ] ADC (ind),Y (0x71)
- [ ] SBC (ind),Y (0xF1)
- [ ] AND (ind),Y (0x31)
- [ ] ORA (ind),Y (0x11)
- [ ] EOR (ind),Y (0x51)
- [ ] CMP (ind),Y (0xD1)

#### Task 4.3: JMP é—´æ¥ (1 ä¸ª)
- [ ] JMP (ind) (0x6C)

---

### ç¬¬ 5 é˜¶æ®µï¼šè¡¥å……ç¼ºå¤±çš„æŒ‡ä»¤æµ‹è¯•

#### Task 5.1: Flag æŒ‡ä»¤è¡¥å……
- [ ] SED (0xF8) - è®¾ç½®åè¿›åˆ¶æ ‡å¿—
- [ ] CLI (0x58) - æ¸…é™¤ä¸­æ–­ç¦æ­¢æ ‡å¿—

#### Task 5.2: Stack æŒ‡ä»¤è¡¥å……
- [ ] PLP (0x28) - å¼¹å‡ºçŠ¶æ€å¯„å­˜å™¨

#### Task 5.3: Jump æŒ‡ä»¤è¡¥å……
- [ ] RTS (0x60) - ä»å­ç¨‹åºè¿”å›
- [ ] RTI (0x40) - ä»ä¸­æ–­è¿”å›
- [ ] BRK (0x00) - è½¯ä»¶ä¸­æ–­

---

## ğŸš€ æ‰§è¡Œè®¡åˆ’

### Week 1: é›¶é¡µå’Œç»å¯¹å¯»å€ï¼ˆ47 ä¸ªæ“ä½œç ï¼‰
**ç›®æ ‡**: ä» 32% â†’ 60%

- Day 1-2: Task 1.1-1.5 (é›¶é¡µå¯»å€ 22 ä¸ª)
- Day 3-4: Task 2.1-2.3 (ç»å¯¹å¯»å€ 17 ä¸ª)
- Day 5: Task 2.4-2.6 (ç»å¯¹å¯»å€ 8 ä¸ª)

### Week 2: ç´¢å¼•å¯»å€ï¼ˆ45 ä¸ªæ“ä½œç ï¼‰
**ç›®æ ‡**: ä» 60% â†’ 89%

- Day 1-2: Task 3.1 (é›¶é¡µ,X 15 ä¸ª)
- Day 3: Task 3.2-3.3 (é›¶é¡µ,Y + ç»å¯¹,X 20 ä¸ª)
- Day 4-5: Task 3.4 (ç»å¯¹,Y 10 ä¸ª)

### Week 3: é—´æ¥å¯»å€å’Œè¡¥å……ï¼ˆ15 ä¸ªæ“ä½œç ï¼‰
**ç›®æ ‡**: ä» 89% â†’ 100%

- Day 1-2: Task 4.1-4.2 (é—´æ¥å¯»å€ 12 ä¸ª)
- Day 3: Task 4.3 + Task 5.1-5.3 (è¡¥å…… 3 ä¸ª)
- Day 4-5: å…¨é¢æµ‹è¯•å’Œä¿®å¤

---

## ğŸ“‹ æµ‹è¯•æ‰§è¡Œè®°å½•

### 2025-11-29
- [x] åˆ›å»ºæµ‹è¯•æ¸…å•æ–‡æ¡£
- [x] Task 1.1: LoadStore é›¶é¡µå¯»å€æµ‹è¯• âœ… (6/6 é€šè¿‡)
  - LDA/LDX/LDY/STA/STX/STY é›¶é¡µå¯»å€å…¨éƒ¨é€šè¿‡
- [ ] Task 1.2: Arithmetic é›¶é¡µå¯»å€æµ‹è¯•

---

## ğŸ¯ æˆåŠŸæ ‡å‡†

æ¯ä¸ªæµ‹è¯•å¿…é¡»éªŒè¯ï¼š
1. âœ… æ­£ç¡®çš„å†…å­˜åœ°å€è®¡ç®—
2. âœ… æ­£ç¡®çš„æ•°æ®è¯»å†™
3. âœ… æ­£ç¡®çš„æ ‡å¿—ä½æ›´æ–° (Z/N/C/V)
4. âœ… æ­£ç¡®çš„æ—¶é’Ÿå‘¨æœŸæ•°
5. âœ… è¾¹ç•Œæ¡ä»¶å¤„ç†

---

## ğŸ“Š è¿›åº¦è¿½è¸ª

```
[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 32% (50/157)

P0 ç«‹å³æ•°å¯»å€: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100% âœ…
P1 é›¶é¡µå¯»å€:   [â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]  27%
P2 ç»å¯¹å¯»å€:   [â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]  20%
P3 ç´¢å¼•å¯»å€:   [â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]  13%
P4 é—´æ¥å¯»å€:   [â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]   0%
```

---

**ä¸‹ä¸€æ­¥**: å¼€å§‹ç¼–å†™ Task 1.1 çš„æµ‹è¯•ä»£ç 
